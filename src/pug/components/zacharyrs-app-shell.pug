//- Import bower requirements.
link(rel="import", href="../bower/polymer/polymer.html")
link(rel="import", href="../bower/app-layout/app-header/app-header.html")
link(rel="import", href="../bower/app-layout/app-toolbar/app-toolbar.html")

//- Import parts of my app.


//- Import my general styling.
link(rel="import", href="styles/zacharyrs-app.html")

//- Define my base app.
dom-module#zacharyrs-app-shell
  template
    style(is="custom-style", include="shared-styles").
      :host{
        --waves-speed: 2;
      }

      .waves {
        width: 100vw;
        height: 50vh;
        position: fixed;
        overflow: hidden;
      }

      .waves:after {
        content: '';
        display: block;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(to bottom, rgba(61, 102, 152, 0.6), rgba(61, 102, 152, 0) 60%, rgba(255, 255, 255, 0.5));
        z-index: 11;
        transform: translate3d(0, 0, 0);
      }

      .wave {
        background: #3D6698;
        opacity: .4;
        position: absolute;
        width: 400vw;
        height: 400vw;
        left: 50%;
        margin-left: -200vw;
        margin-top: -380vw;   /*change this for different viewports*/
        transform-origin: 50% 49%;
        border-radius: 48%;
      }

      /*animation stuff*/
      .wave.-one {
        animation: drift calc(3000ms * var(--waves-speed)) infinite linear;
      }

      .wave.-two {
        animation: drift calc(5000ms * var(--waves-speed)) infinite linear;
        background: #00aaff;
        opacity: 0.1;
      }

      .wave.-three {
        animation: drift calc(2500ms * var(--waves-speed)) infinite linear;
      }

      .logo {
        position: fixed;
        font-size: 112px;
        font-weight: 300;
        line-height: 112px;
        opacity: 0.87;
        color: var(--theme-back-light);
        text-align: center;
        width: 100vw;
        padding-top: 18vh;
      }

      @keyframes drift {
        from { transform: rotate(0deg); }
        from { transform: rotate(360deg); }
      }

    //- Header for my site. (Will include 'waves' and navigation)
    div.waves
      div.wave.-one
      div.wave.-two
      div.wave.-three
    app-header(fixed)
      app-toolbar
        h1.logo.
          zacharyrs
      //- Navigation will be here. To be added.
    //- Wrapper to handle custom scrollbar.
    //- div#wrapper(data-scrollbar)
      //- Page notifications, to be added.
      //- template(is="dom-repeat", items="[[notifications]]", as="notification")
      //-   zacharyrs-notice(notification="[[notification.content]]")
      //- Content to be added.
  script(type="text/javascript").
      'use strict';


      class HomePage {
          beforeRegister() {
              this.is = 'zacharyrs-app-shell';
              this.properties = {};
          }
          created() {}
          ready() {
              this._load();
          }
          attached() {}
          detached() {}
          attributeChanged() {}

          _load() {
              var link = document.createElement('link')
              link.href = '/elements.html';
              link.rel = 'import';
              link.addEventListener('load', loadElementsJS);
              document.head.appendChild(link);

              function loadElementsJS() {
                  console.log('Webcomponents initialized (or native shadowdom supported)!');
                  if (location.hostname === "localhost") {
                      loadApp()
                  } else {
                      var app = document.createElement('script');
                      app.dataset.cfasync = 'false';
                      app.src = '/elements.js';
                      document.body.appendChild(app);
                      app.onload = loadApp()
                  }
              }

              function loadApp() {
              };
          };
      }

      Polymer(HomePage);
