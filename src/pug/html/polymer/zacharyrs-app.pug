link(rel="import", href="../bower/polymer/polymer.html")
link(rel="import", href="../bower/app-layout/app-header/app-header.html")
link(rel="import", href="../bower/app-layout/app-scroll-effects/app-scroll-effects.html")
link(rel="import", href="../bower/app-layout/app-toolbar/app-toolbar.html")
link(rel="import", href="../bower/paper-tabs/paper-tabs.html")
link(rel="import", href="../bower/iron-pages/iron-pages.html")
link(rel="import" href="../bower/app-route/app-location.html")
link(rel="import" href="../bower/app-route/app-route.html")

link(rel="import" href="zacharyrs-admin.html")
link(rel="import" href="zacharyrs-mobile-menu.html")

link(rel="import" href="styles/zacharyrs-app.html")

dom-module#zacharyrs-app
  template
    style(is="custom-style" include="shared-styles").
      app-header {
        width: 100%;
        height: 132px;
        color: #fff;
        transform: none !important;
        @apply(--layout-fixed-top);
        z-index: 1;
        background-color: rgba(255, 255, 255, 0.95);
        --app-header-shadow: {
          box-shadow: inset 0px 5px 6px -3px rgba(0, 0, 0, 0.2);
          height: 10px;
          bottom: -10px;
        };
      }

      paper-tabs {
        color: #656D78;
        --paper-tabs-selection-bar-color: var(--theme-light);
        margin: 0 20% 0 20%;
      }

      paper-tab {
        margin: 0 30px;
        font-size: 0.6cm;
      }

      :host {
        display: block;
        position: relative;
      }

      iron-pages {
        position: absolute;
        padding-top: 142px;
        height:  calc(100vh - 142px);
        width: 100%;
      }

      app-toolbar {
        margin-bottom: 20px;
      }

    app-location(route="{{route}}", use-hash-as-path)
    app-route(
      route="{{route}}"
      pattern="/:page"
      data="{{data}}"
      tail="{{tail}}"
    )

    app-header
      app-toolbar
        h2.logo.
          zacharyrs
      paper-tabs(
        attr-for-selected="name",
        selected="{{data.page}}",
        noink
      )
        paper-tab(name="blog").
          blog
        paper-tab(name="portfolio").
          portfolio
        paper-tab(name="about").
          about me
        paper-tab(name="contact").
          contact me
    zacharyrs-mobile-menu(
      attr-for-selected="name",
      selected="{{data.page}}"
    )
      div(name="blog").
        blog
      div(name="portfolio").
        portfolio
      div(name="about").
        about me
      div(name="contact").
        contact me
    iron-pages(
      selected="[[data.page]]",
      attr-for-selected="name",
      selected-attribute="visible",
      fallback-selection="not-found"
    )
      div(name="blog").
        BLOG APP HERE
      div(name="portfolio").
        PORTFOLIO APP HERE
      div(name="about").
        ABOUT ME APP HERE
      div(name="contact").
        CONTACT ME APP HERE
      div(name="not-found").
        404 PAGE HERE
      zacharyrs-admin(name="admin")
  script(type="text/javascript").
      Polymer({
          is: "zacharyrs-app",
          properties: {
              data: {
                  type: Object
              },
          },

          observers: [
              '_onRoutePathChanged(route.path)'
          ],


          _onRoutePathChanged: function(path) {
              if (!path) {
                this.set('route.path', '/blog');
              };
          },
      });

      
